!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.transition={})}(this,function(t){"use strict";function n(t,n,e){-1!==n.indexOf(" ")?n.trim().split(/\s+/).forEach(function(n){return t.classList.toggle(n,e)}):t.classList.toggle(n,e)}function e(t,e){n(t,e,!0)}function o(t,e){n(t,e,!1)}function r(t,n){var e=l(t[n+"Duration"]),o=l(t[n+"Delay"]);return{durations:e,total:Math.max.apply(Math,e.map(function(t,n){return t+o[n]})),type:n}}function i(t,n){function e(){t.removeEventListener(c,o),n()}function o(n){n.target===t&&(s+=1)>=f&&e()}var i=function(t){var n=window.getComputedStyle(t),e=r(n,"transition"),o=r(n,"animation"),i=function(t){return e.total>=o.total?e[t]:o[t]};return{count:i("durations").length,duration:i("total"),type:i("type")}}(t),a=i.type,u=i.duration,f=i.count,c="transition"===a?"transitionend":"animationend",s=0;setTimeout(function(){s<f&&e()},u),t.addEventListener(c,o)}function a(t){var n=function(t){var n=f(t)?t:t.name,e=d(n);return f(t)?e:{active:t.activeClass||e.active,from:t.fromClass||e.from,to:t.toClass||e.to}}(t);return function(r,a){var s=function(t){return f(t)?{before:c,start:c,after:c}:{before:t.before||c,start:t.start||c,after:t.after||c}}(a||t);!function(t,n,r){r.before(t),e(t,n.active),e(t,n.from),i(t,function(t){var n=!1;return function(){n||t.apply(void 0,arguments),n=!0}}(function(){o(t,n.to),o(t,n.active),r.after(t)})),u(function(){o(t,n.from),e(t,n.to),r.start(t)})}(r,n,s)}}var u=requestAnimationFrame,f=function(t){return"string"==typeof t},c=function(){},s=function(t){return 1e3*Number(t.slice(0,-1))},l=function(t){return t.split(", ").map(s)},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"t";return{active:t+"-active",from:t+"-from",to:t+"-to"}};t.create=a,t.run=function(t,n){a(n)(t)},Object.defineProperty(t,"__esModule",{value:!0})});