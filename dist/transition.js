!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.transition={})}(this,function(t){"use strict";function n(t,n,e){-1!==n.indexOf(" ")?n.trim().split(/\s+/).forEach(function(n){return t.classList[e](n)}):t.classList[e](n)}function e(t,e){n(t,e,"add")}function r(t,e){n(t,e,"remove")}function o(t,n){var e=l(t[n+"Duration"]),r=l(t[n+"Delay"]);return{durations:e,total:Math.max.apply(Math,e.map(function(t,n){return t+r[n]})),type:n}}function i(t,n){function e(){t.removeEventListener(s,i),clearTimeout(l),l=null}function r(){e(),n()}function i(n){n.target===t&&(d+=1)>=c&&r()}var u=function(t){var n=window.getComputedStyle(t),e=o(n,"transition"),r=o(n,"animation"),i=function(t){return e.total>=r.total?e[t]:r[t]};return{count:i("durations").length,duration:i("total"),type:i("type")}}(t),a=u.type,f=u.duration,c=u.count,s="transition"===a?"transitionend":"animationend",l=null,d=0;return l=setTimeout(function(){d<c&&r()},f),t.addEventListener(s,i),e}function u(t){var n=function(t){var n=f(t)?t:t.name,e=d(n);return f(t)?e:{active:t.activeClass||e.active,from:t.fromClass||e.from,to:t.toClass||e.to}}(t);return function(o,u){var s=function(t){return f(t)?{before:c,start:c,after:c}:{before:t.before||c,start:t.start||c,after:t.after||c}}(u||t);return function(t,n,o){o.before(t),e(t,n.active),e(t,n.from),a(function(){r(t,n.from),e(t,n.to),o.start(t)});var u=function(t){var n=!1;return function(){n||t.apply(void 0,arguments),n=!0}}(function(){r(t,n.to),r(t,n.active),o.after(t)}),f=i(t,u);return function(){f(),u()}}(o,n,s)}}var a=requestAnimationFrame,f=function(t){return"string"==typeof t},c=function(){},s=function(t){return 1e3*Number(t.slice(0,-1))},l=function(t){return t.split(", ").map(s)},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"t";return{active:t+"-active",from:t+"-from",to:t+"-to"}};t.create=u,t.run=function(t,n){return u(n)(t)},Object.defineProperty(t,"__esModule",{value:!0})});